<!DOCTYPE html>
<html>

<head>

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>s3</title>


<style type="text/css">
*{margin:0;padding:0;}
body {
	font:13.34px helvetica,arial,freesans,clean,sans-serif;
	color:black;
	line-height:1.4em;
	background-color: #F8F8F8;
	padding: 0.7em;
}
p {
	margin:1em 0;
	line-height:1.5em;
}
table {
	font-size:inherit;
	font:100%;
	margin:1em;
}
table th{border-bottom:1px solid #bbb;padding:.2em 1em;}
table td{border-bottom:1px solid #ddd;padding:.2em 1em;}
input[type=text],input[type=password],input[type=image],textarea{font:99% helvetica,arial,freesans,sans-serif;}
select,option{padding:0 .25em;}
optgroup{margin-top:.5em;}
pre,code{font:12px Monaco,"Courier New","DejaVu Sans Mono","Bitstream Vera Sans Mono",monospace;}
pre {
	margin:1em 0;
	font-size:12px;
	background-color:#eee;
	border:1px solid #ddd;
	padding:5px;
	line-height:1.5em;
	color:#444;
	overflow:auto;
	-webkit-box-shadow:rgba(0,0,0,0.07) 0 1px 2px inset;
	-webkit-border-radius:3px;
	-moz-border-radius:3px;border-radius:3px;
}
pre code {
	padding:0;
	font-size:12px;
	background-color:#eee;
	border:none;
}
code {
	font-size:12px;
	background-color:#f8f8ff;
	color:#444;
	padding:0 .2em;
	border:1px solid #dedede;
}
img{border:0;max-width:100%;}
abbr{border-bottom:none;}
a{color:#4183c4;text-decoration:none;}
a:hover{text-decoration:underline;}
a code,a:link code,a:visited code{color:#4183c4;}
h2,h3{margin:1em 0;}
h1,h2,h3,h4,h5,h6{border:0;}
h1{font-size:170%;border-top:4px solid #aaa;padding-top:.5em;margin-top:1.5em;}
h1:first-child{margin-top:0;padding-top:.25em;border-top:none;}
h2{font-size:150%;margin-top:1.5em;border-top:4px solid #e0e0e0;padding-top:.5em;}
h3{margin-top:1em;}
hr{border:1px solid #ddd;}
ul{margin:1em 0 1em 2em;}
ol{margin:1em 0 1em 2em;}
ul li,ol li{margin-top:.5em;margin-bottom:.5em;}
ul ul,ul ol,ol ol,ol ul{margin-top:0;margin-bottom:0;}
blockquote{margin:1em 0;border-left:5px solid #ddd;padding-left:.6em;color:#555;}
dt{font-weight:bold;margin-left:1em;}
dd{margin-left:2em;margin-bottom:1em;}
sup {
    font-size: 0.83em;
    vertical-align: super;
    line-height: 0;
}
kbd {
  display: inline-block;padding: 3px 5px;font-size: 11px;line-height: 10px;color: #555;vertical-align: middle;background-color: #fcfcfc;border: solid 1px #ccc;border-bottom-color: #bbb;border-radius: 3px;box-shadow: inset 0 -1px 0 #bbb;
}
* {
	-webkit-print-color-adjust: exact;
}
@media screen and (min-width: 914px) {
    body {
        width: 854px;
        margin:0 auto;
    }
}
@media print {
	table, pre {
		page-break-inside: avoid;
	}
	pre {
		word-wrap: break-word;
	}
}
</style>

<style type="text/css">
/**
 * prism.js default theme for JavaScript, CSS and HTML
 * Based on dabblet (http://dabblet.com)
 * @author Lea Verou
 */

code[class*="language-"],
pre[class*="language-"] {
	color: black;
	background: none;
	text-shadow: 0 1px white;
	font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
	text-align: left;
	white-space: pre;
	word-spacing: normal;
	word-break: normal;
	word-wrap: normal;
	line-height: 1.5;

	-moz-tab-size: 4;
	-o-tab-size: 4;
	tab-size: 4;

	-webkit-hyphens: none;
	-moz-hyphens: none;
	-ms-hyphens: none;
	hyphens: none;
}

pre[class*="language-"]::-moz-selection, pre[class*="language-"] ::-moz-selection,
code[class*="language-"]::-moz-selection, code[class*="language-"] ::-moz-selection {
	text-shadow: none;
	background: #b3d4fc;
}

pre[class*="language-"]::selection, pre[class*="language-"] ::selection,
code[class*="language-"]::selection, code[class*="language-"] ::selection {
	text-shadow: none;
	background: #b3d4fc;
}

@media print {
	code[class*="language-"],
	pre[class*="language-"] {
		text-shadow: none;
	}
}

/* Code blocks */
pre[class*="language-"] {
	padding: 1em;
	margin: .5em 0;
	overflow: auto;
}

:not(pre) > code[class*="language-"],
pre[class*="language-"] {
	background: #f5f2f0;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
	padding: .1em;
	border-radius: .3em;
	white-space: normal;
}

.token.comment,
.token.prolog,
.token.doctype,
.token.cdata {
	color: slategray;
}

.token.punctuation {
	color: #999;
}

.namespace {
	opacity: .7;
}

.token.property,
.token.tag,
.token.boolean,
.token.number,
.token.constant,
.token.symbol,
.token.deleted {
	color: #905;
}

.token.selector,
.token.attr-name,
.token.string,
.token.char,
.token.builtin,
.token.inserted {
	color: #690;
}

.token.operator,
.token.entity,
.token.url,
.language-css .token.string,
.style .token.string {
	color: #a67f59;
	background: hsla(0, 0%, 100%, .5);
}

.token.atrule,
.token.attr-value,
.token.keyword {
	color: #07a;
}

.token.function {
	color: #DD4A68;
}

.token.regex,
.token.important,
.token.variable {
	color: #e90;
}

.token.important,
.token.bold {
	font-weight: bold;
}
.token.italic {
	font-style: italic;
}

.token.entity {
	cursor: help;
}
</style>


</head>

<body>

<h1 id="toc_0">Amazon S3 (Simple Storage Service)</h1>

<h2 id="toc_1">1. Amazon S3 소개</h2>

<h3 id="toc_2">1.1 소개 동영상</h3>

<iframe width="560" height="315" src="https://www.youtube.com/embed/rKpKHulqYOQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>

<ul>
<li>데이터를 저장, 분산, 관리는 문제는 중요</li>
<li><p>스토리지가 많이 필요한 경우</p>

<ul>
<li>콘텐츠를 사용자에게 전달하는 애플리케이션을 실행</li>
<li>많은 트랙픽이 있는 웹사이트를 호스팅</li>
<li>데이타베이스나 이메일을 백업</li>
</ul></li>
<li><p>자신의 고유한 스토리지를 구성하고 관리하는 것은 비싸고 시간이 많이 걸림</p>

<ul>
<li>전용 SW/HW 설정</li>
<li>전문 스탭을 고용하고, 장애시 대처할 프로세스를 확립해야 함</li>
<li>용량을 확장하는 것은 시간과 비용을 요구함</li>
<li>용량을 예측하는 것도 힘듦</li>
</ul></li>
<li><p>Amazon S3</p>

<ul>
<li>개발자나 IT 관리자에게 안전하고 보안이 잘 적용된 객체 스토리지를 제공</li>
<li>언제든지 필요한 양의 데이터를 스토리지에 저장/추출할 수 있는 단순한 웹 서비스 인터페이스 제공</li>
<li>스토리지 용량을 예측할 필요없이, 필요한 만큼의 데이터를 저장하고 사용</li>
<li>데이터의 손실을 막기 위해 다중 복사복을 유지 관리</li>
<li>버켓내에서 다양한 객체 버전을 저장/관리</li>
<li>데이터를 사용한 만큼만 비용을 지불 (최소 지불 비용 및 설정 비용 없음)</li>
<li>자주 사용되지 않은 데이터는 저비용의 스토리지 아카이브 서비스인 Amazon Glacier에 자동으로 저장되게 하여 비용을 절감할 수 있음</li>
<li>인증된 사용자만 데이터에 접근하게 함</li>
</ul></li>
</ul>

<h3 id="toc_3">1.2 개요</h3>

<ul>
<li><strong>Amazon S3 (Simple Storage Service)</strong>는 인터넷용 스토리지 서비스

<ul>
<li>간단한 웹 서비스 인터페이스를 사용하여 웹에서 언제 어디서나 원하는 양의 데이터를 저장하고 검색</li>
<li>내구성이 뛰어난 인프라 제공

<ul>
<li>99.99999999%의 객체 내구성 보장</li>
</ul></li>
<li>높은 확장성을 제공하는 경제적인 인프라 제공

<ul>
<li>원하는 만큼 데이터를 저장하고 필요할 때 액세스할 수 있습니다. 향후 스토리지 요구를 추정할 필요 없이 필요에 따라 확장 또는 축소할 수 있으므로 비즈니스 민첩성이 크게 향상</li>
</ul></li>
<li>보안

<ul>
<li>SSL을 통한 데이터 전송과 데이터 업로드 후 자동 암호화를 지원</li>
<li><strong>AWS Identity and Access Management(IAM)</strong>를 사용하여 객체 권한을 관리하고 데이터에 대한 액세스를 제어하는 버킷 정책을 구성</li>
</ul></li>
<li>저렴한 비용으로 대용량의 데이터를 저장

<ul>
<li>수명 주기 정책을 사용하면 데이터가 오래됨에 따라 S3 스탠다드 – Infrequent Access 및 Amazon Glacier로 자동으로 마이그레이션하도록 정책을 설정하여 비용을 더욱 절감</li>
</ul></li>
</ul></li>
</ul>

<h3 id="toc_4">1.3 기본 개념</h3>

<ul>
<li><p>Amazon S3는 데이터를 버킷 내에 객체로 저장</p>

<ul>
<li>버킷: 객체의 컨테이너</li>
<li>객체:  파일+ 메타데이터 (파일에 대한 설명)</li>
<li>키: 버킷 내 객체의 고유한 식별자</li>
<li>데이터 위치: URL: http://[bucket-name].S3.amazonaws.com/[key]</li>
</ul></li>
<li><p>주요 기능</p>

<ul>
<li>버킷 만들기</li>
<li>버킷에 데이터 저장

<ul>
<li>저장할 파일을 버킷에 업로드</li>
<li>파일을 업로드하면 메타데이터에 권한을 설정할 수 있음</li>
</ul></li>
<li>버킷에 대한 액세스 권한 제어

<ul>
<li>버킷에 객체를 만들고 삭제하고 확인하는 등의 작업을 수행할 수 있는 사용자 지정</li>
</ul></li>
<li>표준 기반 REST 인터페이스 제공</li>
<li>버킷과 버킷의 객체에 대한 액세스 로그를 확인</li>
<li>버킷과 버킷의 콘텐츠를 저장할 지리적 리전을 선택할 수 있음</li>
</ul></li>
</ul>

<h3 id="toc_5">1.4 사용 시나리오</h3>

<ul>
<li><p>백업 및 스토리지</p>

<ul>
<li>데이터 백업 및 기타 스토리지 서비스를 제공합니다.</li>
</ul></li>
<li><p>애플리케이션 호스팅</p>

<ul>
<li>웹 애플리케이션을 배포, 설치, 관리하는 서비스를 제공합니다.</li>
</ul></li>
<li><p>미디어 호스팅  </p>

<ul>
<li>동영상, 사진 또는 음악 업로드 및 다운로드를 호스팅하는 중복 방식의 확장 가능하고 가용성이 높은 인프라를 구축합니다.</li>
</ul></li>
<li><p>소프트웨어 제공  </p>

<ul>
<li>고객이 다운로드할 수 있는 소프트웨어 애플리케이션을 호스팅합니다</li>
</ul></li>
</ul>

<hr>

<h2 id="toc_6"><a href="https://docs.aws.amazon.com/ko_kr/AmazonS3/latest/gsg/GetStartedWithS3.html">2. Amazon S3 시작하기</a></h2>

<h2 id="toc_7">3. Amazon S3 콘솔 사용</h2>

<ul>
<li>Amazon S3 콘솔은 Amazon S3 작업에 사용할 수 있는 인터페이스 중 하나</li>
<li><p>콘솔을 사용하면 코드를 생성하지 않고도 Amazon S3 작업 수행 가능</p></li>
<li><p>주요 항목</p>

<ul>
<li>S3 버킷 생성 및 구성</li>
<li>객체 업로드 및 관리</li>
<li>버킷 권한 설정</li>
<li>객체 권한 설정</li>
</ul></li>
</ul>

<h3 id="toc_8">3.1 S3 버킷 생성 및 구성</h3>

<ul>
<li>Amazon S3는 사용자가 지정한 AWS 리전에 버킷을 생성</li>
<li>버킷 생성에 따른 요금은 발생하지 않으며, 객체를 버킷에 저장하거나 버킷에서 객체를 전송한 경우에만 요금이 부과됨</li>
<li>Amazon S3 버킷 이름은 버킷을 만든 AWS 리전과 상관없이 전역적으로 고유</li>
<li>주요 기능

<ul>
<li><a href="https://docs.aws.amazon.com/ko_kr/AmazonS3/latest/user-guide/create-bucket.html">버킷 생성</a></li>
<li><a href="https://docs.aws.amazon.com/ko_kr/AmazonS3/latest/user-guide/static-website-hosting.html">정적 웹 사이트 호스팅 구성</a></li>
<li><a href="https://docs.aws.amazon.com/ko_kr/AmazonS3/latest/user-guide/redirect-website-requests.html">웹 사이트 요청 리디렉션</a></li>
</ul></li>
</ul>

<h3 id="toc_9">3.2 객체 업로드 및 관리</h3>

<ul>
<li>객체를 Amazon S3 버킷에 업로드하려면 해당 버킷에 대해 쓰기 권한이 있어야 함</li>
<li>객체는 이미지, 백업, 데이터, 동영상 등 임의의 파일 형식</li>
<li>업로드할 수 있는 파일의 최대 크기는 78GB</li>
<li>버킷에 저장할 수 있는 객체 수에는 제한이 없음</li>
<li>주요 기능

<ul>
<li><a href="https://docs.aws.amazon.com/ko_kr/AmazonS3/latest/user-guide/upload-objects.html">S3 버킷에 파일 및 폴더를 업로드하는 방법</a></li>
</ul></li>
</ul>

<h3 id="toc_10"><a href="https://docs.aws.amazon.com/ko_kr/AmazonS3/latest/user-guide/set-bucket-permissions.html">3.3 버킷 권한 설정</a></h3>

<h3 id="toc_11">3.4 객체 권한 설정</h3>

<ul>
<li>ACL(액세스 통제 목록)을 사용하여 S3 객체에 대한 액세스 권한을 관리하는 방법을 설명

<ul>
<li>ACL은 버킷과 객체에 액세스 권한을 부여하는 리소스 기반 액세스 정책</li>
</ul></li>
<li>버킷 및 객체 권한은 서로 독립적

<ul>
<li>객체는 해당 버킷으로부터 권한을 상속하지 않음</li>
<li>만약 버킷을 만들고 어떤 사용자에게 쓰기 엑세스 권한을 부여한 경우에, 해당 사용자로부터 명시적으로 권한을 부여 받지 않는 한 해당 사용자 객체를 당신은 접근하지 못합니다.<br></li>
</ul></li>
<li><a href="https://docs.aws.amazon.com/ko_kr/AmazonS3/latest/user-guide/set-object-permissions.html">객체에 대한 권한을 설정하는 방법</a></li>
</ul>

<h2 id="toc_12">4. Amazon S3- AWS SDK 사용</h2>

<h3 id="toc_13">4.1 Java용 AWS SDK</h3>

<ul>
<li><p>Java용 AWS SDK를 사용하여 AWS를 빠르게 시작합니다. SDK를 사용하면 Amazon S3, Amazon EC2, DynamoDB 등을 포함하는 여러 AWS 서비스를 위한 Java API가 제공되므로 복잡하게 코드를 작성하지 않아도 됩니다. </p></li>
<li><p><strong>AWS Toolkit for Eclipse</strong> </p>

<ul>
<li>AWS Toolkit for Eclipse는 Amazon Web Services를 사용하여 개발자가 쉽게 Java 애플리케이션을 개발, 디버깅 및 배포할 수 있도록 하는 Eclipse Java IDE용 오픈 소스 플러그인입니다. AWS Toolkit for Eclipse를 사용하면 AWS 애플리케이션의 구축을 더욱 빠르게 시작하고 생산성을 향상할 수 있습니다</li>
<li>설치 방법

<ul>
<li>Eclipse 다운로드 및 설치 (<a href="https://www.eclipse.org/downloads/">https://www.eclipse.org/downloads/</a>)</li>
<li>AWS Toolkit 설치

<ol>
<li>Help → Install New Software…를 엽니다.</li>
<li>대화 상자 상단에 있는 <q>Work with</q>라는 레이블이 붙은 텍스트 상자에 <a href="https://aws.amazon.com/eclipse">https://aws.amazon.com/eclipse</a> 를 입력하고 Enter를 칩니다.</li>
<li>AWS core Management Tools와 AWS Deployment Tools 선택 후, “Next” 클릭</li>
<li>나머지 설치 과정은 Eclipse의 안내를 따르십시오</li>
</ol></li>
</ul></li>
</ul></li>
</ul>

<h3 id="toc_14">4.2 시작하기</h3>

<ol>
<li>IAM 사용자 생성</li>
<li>AWS Credentials설정</li>
<li>AWS Toolkit for Eclipse 를 사용하여 S3Sample 프로젝트 생성 및 실행</li>
</ol>

<h4 id="toc_15">4.2.1 IAM 사용자 생성</h4>

<ol>
<li>AWS Management Console에 로그인하고 <a href="https://console.aws.amazon.com/iam/">https://console.aws.amazon.com/iam/</a> 의 Amazon IAM 콘솔을 엽니다. </li>
<li>왼쪽 탐색 메뉴에서 [<strong>Users</strong>] 선택</li>
<li>[<strong>Add user</strong>] 선택

<ul>
<li>[<strong>User name</strong>]에 사용자이름 지정</li>
<li>[<strong>Access type</strong>]에서 [<em>Programmatic access</em>] 선택</li>
<li>[<strong>Next:Permissions</strong>] 클릭</li>
</ul></li>
<li>[<strong>Attach existing policies directly</strong>] 선택 후, 목록의 Policy name에서[<strong>AmazonS3FullAccess</strong>]를 찾아 선택하고 [<strong>Next:Review</strong>] 클릭</li>
<li>[<strong>Create User</strong>] 선택</li>
<li>다음 화면에서 Access key ID 와 Secret access key 복사 (아래와 같은 형식)

<ul>
<li>Access key ID: AKIAJP7LTPROQS5KIOHA</li>
<li>Secret access key: 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</li>
</ul></li>
</ol>

<h4 id="toc_16">4.2.2 AWS Credential 설정</h4>

<ol>
<li><p>다음과 같은 형식의 credentials 파일을 다음 위치에 저장</p>

<ul>
<li>macOS 혹은 Linux: ~/.aws/credentials</li>
<li><p>윈도우: C:\Users\USERNAME\.aws\credentials    (USERNAME은 자신 컴퓨터의 사용자 이름으로 대치)</p></li>
<li><p>credentials 파일은 다음 형식의 내용을 저장</p>

<div><pre><code class="language-none">[default]
aws_access_key_id = your_access_key_id
aws_secret_access_key = your_secret_access_key</code></pre></div>

<ul>
<li><em>your_access_key_id</em>와 <em>your_secret_access_key</em>는 이전단계에서 복사한 값으로 대치 </li>
</ul></li>
</ul></li>
</ol>

<h4 id="toc_17">4.2.3 AWS Toolkit for Eclipse 를 사용하여 S3Sample 프로젝트 생성 및 실행</h4>

<ol>
<li>Eclipse 실행</li>
<li>[<strong>File</strong>]-[<strong>New</strong>]-[<strong>AWS java Project</strong>] 선택</li>
<li>[<strong>Project name</strong>]에 프로젝트 이름 지정후, [<strong>Amazon S3 Sample</strong>] 선택후, [<strong>Finish</strong>] 클릭</li>
<li><p>생성된 프로젝트 실행</p>

<ul>
<li>Package Explorer에서 프로젝트 선택 후, [<strong>Run</strong>]-[<strong>Run as</strong>]-[<strong>Java Application</strong>]을 선택</li>
<li><strong>S3Sample - com.amazonaws.samples</strong> 선택 후, [<strong>OK</strong>] 클릭</li>
</ul>

<p><img src="images/s3-java-sdk-run-result.png" alt=""></p></li>
</ol>



<script type="text/javascript">
var _self="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},Prism=function(){var e=/\blang(?:uage)?-(\w+)\b/i,t=0,n=_self.Prism={util:{encode:function(e){return e instanceof a?new a(e.type,n.util.encode(e.content),e.alias):"Array"===n.util.type(e)?e.map(n.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).match(/\[object (\w+)\]/)[1]},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++t}),e.__id},clone:function(e){var t=n.util.type(e);switch(t){case"Object":var a={};for(var r in e)e.hasOwnProperty(r)&&(a[r]=n.util.clone(e[r]));return a;case"Array":return e.map&&e.map(function(e){return n.util.clone(e)})}return e}},languages:{extend:function(e,t){var a=n.util.clone(n.languages[e]);for(var r in t)a[r]=t[r];return a},insertBefore:function(e,t,a,r){r=r||n.languages;var l=r[e];if(2==arguments.length){a=arguments[1];for(var i in a)a.hasOwnProperty(i)&&(l[i]=a[i]);return l}var o={};for(var s in l)if(l.hasOwnProperty(s)){if(s==t)for(var i in a)a.hasOwnProperty(i)&&(o[i]=a[i]);o[s]=l[s]}return n.languages.DFS(n.languages,function(t,n){n===r[e]&&t!=e&&(this[t]=o)}),r[e]=o},DFS:function(e,t,a,r){r=r||{};for(var l in e)e.hasOwnProperty(l)&&(t.call(e,l,e[l],a||l),"Object"!==n.util.type(e[l])||r[n.util.objId(e[l])]?"Array"!==n.util.type(e[l])||r[n.util.objId(e[l])]||(r[n.util.objId(e[l])]=!0,n.languages.DFS(e[l],t,l,r)):(r[n.util.objId(e[l])]=!0,n.languages.DFS(e[l],t,null,r)))}},plugins:{},highlightAll:function(e,t){var a={callback:t,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};n.hooks.run("before-highlightall",a);for(var r,l=a.elements||document.querySelectorAll(a.selector),i=0;r=l[i++];)n.highlightElement(r,e===!0,a.callback)},highlightElement:function(t,a,r){for(var l,i,o=t;o&&!e.test(o.className);)o=o.parentNode;o&&(l=(o.className.match(e)||[,""])[1],i=n.languages[l]),t.className=t.className.replace(e,"").replace(/\s+/g," ")+" language-"+l,o=t.parentNode,/pre/i.test(o.nodeName)&&(o.className=o.className.replace(e,"").replace(/\s+/g," ")+" language-"+l);var s=t.textContent,u={element:t,language:l,grammar:i,code:s};if(!s||!i)return n.hooks.run("complete",u),void 0;if(n.hooks.run("before-highlight",u),a&&_self.Worker){var c=new Worker(n.filename);c.onmessage=function(e){u.highlightedCode=e.data,n.hooks.run("before-insert",u),u.element.innerHTML=u.highlightedCode,r&&r.call(u.element),n.hooks.run("after-highlight",u),n.hooks.run("complete",u)},c.postMessage(JSON.stringify({language:u.language,code:u.code,immediateClose:!0}))}else u.highlightedCode=n.highlight(u.code,u.grammar,u.language),n.hooks.run("before-insert",u),u.element.innerHTML=u.highlightedCode,r&&r.call(t),n.hooks.run("after-highlight",u),n.hooks.run("complete",u)},highlight:function(e,t,r){var l=n.tokenize(e,t);return a.stringify(n.util.encode(l),r)},tokenize:function(e,t){var a=n.Token,r=[e],l=t.rest;if(l){for(var i in l)t[i]=l[i];delete t.rest}e:for(var i in t)if(t.hasOwnProperty(i)&&t[i]){var o=t[i];o="Array"===n.util.type(o)?o:[o];for(var s=0;s<o.length;++s){var u=o[s],c=u.inside,g=!!u.lookbehind,h=!!u.greedy,f=0,d=u.alias;u=u.pattern||u;for(var p=0;p<r.length;p++){var m=r[p];if(r.length>e.length)break e;if(!(m instanceof a)){u.lastIndex=0;var y=u.exec(m),v=1;if(!y&&h&&p!=r.length-1){var b=r[p+1].matchedStr||r[p+1],k=m+b;if(p<r.length-2&&(k+=r[p+2].matchedStr||r[p+2]),u.lastIndex=0,y=u.exec(k),!y)continue;var w=y.index+(g?y[1].length:0);if(w>=m.length)continue;var _=y.index+y[0].length,P=m.length+b.length;if(v=3,P>=_){if(r[p+1].greedy)continue;v=2,k=k.slice(0,P)}m=k}if(y){g&&(f=y[1].length);var w=y.index+f,y=y[0].slice(f),_=w+y.length,S=m.slice(0,w),O=m.slice(_),j=[p,v];S&&j.push(S);var A=new a(i,c?n.tokenize(y,c):y,d,y,h);j.push(A),O&&j.push(O),Array.prototype.splice.apply(r,j)}}}}}return r},hooks:{all:{},add:function(e,t){var a=n.hooks.all;a[e]=a[e]||[],a[e].push(t)},run:function(e,t){var a=n.hooks.all[e];if(a&&a.length)for(var r,l=0;r=a[l++];)r(t)}}},a=n.Token=function(e,t,n,a,r){this.type=e,this.content=t,this.alias=n,this.matchedStr=a||null,this.greedy=!!r};if(a.stringify=function(e,t,r){if("string"==typeof e)return e;if("Array"===n.util.type(e))return e.map(function(n){return a.stringify(n,t,e)}).join("");var l={type:e.type,content:a.stringify(e.content,t,r),tag:"span",classes:["token",e.type],attributes:{},language:t,parent:r};if("comment"==l.type&&(l.attributes.spellcheck="true"),e.alias){var i="Array"===n.util.type(e.alias)?e.alias:[e.alias];Array.prototype.push.apply(l.classes,i)}n.hooks.run("wrap",l);var o="";for(var s in l.attributes)o+=(o?" ":"")+s+'="'+(l.attributes[s]||"")+'"';return"<"+l.tag+' class="'+l.classes.join(" ")+'" '+o+">"+l.content+"</"+l.tag+">"},!_self.document)return _self.addEventListener?(_self.addEventListener("message",function(e){var t=JSON.parse(e.data),a=t.language,r=t.code,l=t.immediateClose;_self.postMessage(n.highlight(r,n.languages[a],a)),l&&_self.close()},!1),_self.Prism):_self.Prism;var r=document.currentScript||[].slice.call(document.getElementsByTagName("script")).pop();return r&&(n.filename=r.src,document.addEventListener&&!r.hasAttribute("data-manual")&&document.addEventListener("DOMContentLoaded",n.highlightAll)),_self.Prism}();"undefined"!=typeof module&&module.exports&&(module.exports=Prism),"undefined"!=typeof global&&(global.Prism=Prism);
</script>

<script type="text/x-mathjax-config">
(function () {

MathJax.Hub.Config({
	'showProcessingMessages': false,
	'messageStyle': 'none'
});

if (typeof MathJaxListener !== 'undefined') {
	MathJax.Hub.Register.StartupHook('End', function () {
		MathJaxListener.invokeCallbackForKey_('End');
	});
}

})();
</script>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>


</body>

</html>
